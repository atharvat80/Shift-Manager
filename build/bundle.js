var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t){return null==t?"":t}const u="undefined"!=typeof window;let l=u?()=>window.performance.now():()=>Date.now(),c=u?t=>requestAnimationFrame(t):t;const d=new Set;function f(t){d.forEach(e=>{e.c(t)||(d.delete(e),e.f())}),0!==d.size&&c(f)}function p(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function v(){return b(" ")}function y(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t){return function(e){return e.preventDefault(),t.call(this,e)}}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t){return""===t?void 0:+t}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function C(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function S(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function E(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const O=new Set;let T,z=0;function F(t,e,n,o,r,i,a,s=0){const u=16.666/o;let l="{\n";for(let t=0;t<=1;t+=u){const o=e+(n-e)*i(t);l+=100*t+`%{${a(o,1-o)}}\n`}const c=l+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${s}`,f=t.ownerDocument;O.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(m("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${c}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${o}ms linear ${r}ms 1 both`,z+=1,d}function j(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),z-=r,z||c(()=>{z||(O.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),O.clear())}))}function q(t){T=t}function M(){const t=function(){if(!T)throw new Error("Function called outside component initialization");return T}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=E(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const D=[],N=[],P=[],R=[],A=Promise.resolve();let L=!1;function J(t){P.push(t)}let W=!1;const H=new Set;function B(){if(!W){W=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];q(e),U(e.$$)}for(D.length=0;N.length;)N.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];H.has(e)||(H.add(e),e())}P.length=0}while(D.length);for(;R.length;)R.pop()();L=!1,W=!1,H.clear()}}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let X;function Y(t,e,n){t.dispatchEvent(E(`${e?"intro":"outro"}${n}`))}const I=new Set;let G;function K(){G={r:0,c:[],p:G}}function Q(){G.r||r(G.c),G=G.p}function V(t,e){t&&t.i&&(I.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),G.c.push(()=>{I.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const tt={duration:0};function et(n,o,a,s){let u=o(n,a),p=s?0:1,h=null,g=null,m=null;function b(){m&&j(n,m)}function v(t,e){const n=t.b-p;return e*=Math.abs(n),{a:p,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:i=0,duration:a=300,easing:s=e,tick:y=t,css:$}=u||tt,_={start:l()+i,b:o};o||(_.group=G,G.r+=1),h?g=_:($&&(b(),m=F(n,p,o,a,i,s,$)),o&&y(0,1),h=v(_,a),J(()=>Y(n,o,"start")),function(t){let e;0===d.size&&c(f),new Promise(n=>{d.add(e={c:t,f:n})})}(t=>{if(g&&t>g.start&&(h=v(g,a),g=null,Y(n,h.b,"start"),$&&(b(),m=F(n,p,h.b,h.duration,0,s,u.css))),h)if(t>=h.end)y(p=h.b,1-p),Y(n,h.b,"end"),g||(h.b?b():--h.group.r||r(h.group.c)),h=null;else if(t>=h.start){const e=t-h.start;p=h.a+h.d*s(e/h.duration),y(p,1-p)}return!(!h&&!g)}))}return{run(t){i(u)?(X||(X=Promise.resolve(),X.then(()=>{X=null})),X).then(()=>{u=u(),y(t)}):y(t)},end(){b(),h=g=null}}}const nt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ot(t,e,o){const{fragment:a,on_mount:s,on_destroy:u,after_update:l}=t.$$;a&&a.m(e,o),J(()=>{const e=s.map(n).filter(i);u?u.push(...e):r(e),t.$$.on_mount=[]}),l.forEach(J)}function rt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(D.push(t),L||(L=!0,A.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,i,a,s,u,l=[-1]){const c=T;q(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:o(),dirty:l,skip_bound:!1};let p=!1;if(f.ctx=i?i(e,d,(t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&it(e,t)),n}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(g)}else f.fragment&&f.fragment.c();n.intro&&V(e.$$.fragment),ot(e,n.target,n.anchor),B()}q(c)}class st{$destroy(){rt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ut(t){let e,n;return{c(){e=m("p"),n=b(t[2]),_(e,"class","error svelte-tkqzmr")},m(t,o){h(t,e,o),p(e,n)},p(t,e){4&e&&w(n,t[2])},d(t){t&&g(e)}}}function lt(e){let n,o,i,a,s,u,l,c,d,f,b,x,w,C,S,E,O,T,z,F,j=void 0!==e[2]&&ut(e);return{c(){n=m("form"),o=m("fieldset"),j&&j.c(),i=v(),a=m("p"),s=m("label"),s.textContent="Username",u=m("br"),l=v(),c=m("input"),d=v(),f=m("p"),b=m("label"),b.textContent="Password ",x=m("br"),w=v(),C=m("input"),S=v(),E=m("button"),E.textContent="Login",O=v(),T=m("button"),T.textContent="Sign Up",_(s,"for","username"),_(c,"id","username"),_(c,"type","text"),_(c,"placeholder","Enter username"),c.required=!0,_(b,"for","password"),_(C,"id","password"),_(C,"type","password"),_(C,"placeholder","Enter password"),C.required=!0,_(E,"type","submit"),_(T,"type","submit")},m(t,r){h(t,n,r),p(n,o),j&&j.m(o,null),p(o,i),p(o,a),p(a,s),p(a,u),p(a,l),p(a,c),k(c,e[0]),p(o,d),p(o,f),p(f,b),p(f,x),p(f,w),p(f,C),k(C,e[1]),p(o,S),p(o,E),p(o,O),p(o,T),z||(F=[y(c,"input",e[6]),y(C,"input",e[7]),y(E,"click",e[8]),y(T,"click",e[9]),y(n,"submit",$(e[5]))],z=!0)},p(t,[e]){void 0!==t[2]?j?j.p(t,e):(j=ut(t),j.c(),j.m(o,i)):j&&(j.d(1),j=null),1&e&&c.value!==t[0]&&k(c,t[0]),2&e&&C.value!==t[1]&&k(C,t[1])},i:t,o:t,d(t){t&&g(n),j&&j.d(),z=!1,r(F)}}}function ct(t,e,n){let o,{url:r}=e,i="",a="";const s=M();function u(t){let e=new XMLHttpRequest;e.open("POST",`${r}/${t}`,!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({username:i,password:a})),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status?s("login",{username:i}):n(2,o=e.responseText))}}return t.$$set=t=>{"url"in t&&n(4,r=t.url)},[i,a,o,u,r,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)},function(){i=this.value,n(0,i)},function(){a=this.value,n(1,a)},()=>{u("login")},()=>{u("signup")}]}class dt extends st{constructor(t){super(),at(this,t,ct,lt,a,{url:4})}}function ft(t){const e=t-1;return e*e*e+1}function pt(t,{delay:e=0,duration:n=400,easing:o=ft}){const r=getComputedStyle(t),i=+r.opacity,a=parseFloat(r.height),s=parseFloat(r.paddingTop),u=parseFloat(r.paddingBottom),l=parseFloat(r.marginTop),c=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};height: ${t*a}px;padding-top: ${t*s}px;padding-bottom: ${t*u}px;margin-top: ${t*l}px;margin-bottom: ${t*c}px;border-top-width: ${t*d}px;border-bottom-width: ${t*f}px;`}}const{document:ht}=nt;function gt(t,e,n){const o=t.slice();return o[33]=e[n],o}function mt(t){let e,n,o,i,a,s,u,l,c,d,f,$,S,E,O,T,z,F,j,q,M,D,N,P,R,A,L,W,H,B,U,X,Y,I,G,tt=0!==t[1].length&&vt(t);function nt(t,e){return(null==A||1&e[0])&&(A=!(0!==Object.keys(t[0]).length)),A?_t:$t}let ot=nt(t,[-1]),rt=ot(t),it=t[4]&&wt(t);return{c(){e=m("div"),n=m("h4"),n.textContent="📄 Your Details",o=m("hr"),i=v(),a=m("ul"),s=m("li"),u=b("Username : "),l=m("strong"),c=b(t[5]),d=v(),f=m("li"),$=m("label"),$.textContent="Your wage : £",S=v(),E=m("input"),O=v(),T=m("span"),T.textContent="/ hr",z=v(),F=m("button"),F.textContent="Logout",j=v(),q=m("br"),M=v(),D=m("h4"),D.textContent="🗂 Your Shifts",N=m("hr"),P=v(),tt&&tt.c(),R=v(),rt.c(),L=v(),W=m("button"),W.textContent="Add a Shift",H=v(),B=m("br"),U=v(),it&&it.c(),_($,"for","wage"),_(E,"type","number"),_(E,"step","0.01"),_(E,"min","0"),C(E,"width","80px"),C(F,"float","right"),_(F,"class","svelte-w46gzl"),C(W,"float","right"),_(W,"class","svelte-w46gzl")},m(r,g){h(r,e,g),p(e,n),p(e,o),p(e,i),p(e,a),p(a,s),p(s,u),p(s,l),p(l,c),p(a,d),p(a,f),p(f,$),p(f,S),p(f,E),k(E,t[3]),p(f,O),p(f,T),p(e,z),p(e,F),p(e,j),p(e,q),p(e,M),p(e,D),p(e,N),p(e,P),tt&&tt.m(e,null),p(e,R),rt.m(e,null),p(e,L),p(e,W),p(e,H),p(e,B),p(e,U),it&&it.m(e,null),Y=!0,I||(G=[y(E,"input",t[17]),y(E,"change",t[15]),y(F,"click",t[18]),y(W,"click",t[24])],I=!0)},p(t,n){(!Y||32&n[0])&&w(c,t[5]),8&n[0]&&x(E.value)!==t[3]&&k(E,t[3]),0!==t[1].length?tt?(tt.p(t,n),2&n[0]&&V(tt,1)):(tt=vt(t),tt.c(),V(tt,1),tt.m(e,R)):tt&&(K(),Z(tt,1,1,()=>{tt=null}),Q()),ot===(ot=nt(t,n))&&rt?rt.p(t,n):(rt.d(1),rt=ot(t),rt&&(rt.c(),rt.m(e,L))),t[4]?it?(it.p(t,n),16&n[0]&&V(it,1)):(it=wt(t),it.c(),V(it,1),it.m(e,null)):it&&(K(),Z(it,1,1,()=>{it=null}),Q())},i(t){Y||(V(tt),V(it),J(()=>{X||(X=et(e,pt,{},!0)),X.run(1)}),Y=!0)},o(t){Z(tt),Z(it),X||(X=et(e,pt,{},!1)),X.run(0),Y=!1},d(t){t&&g(e),tt&&tt.d(),rt.d(),it&&it.d(),t&&X&&X.end(),I=!1,r(G)}}}function bt(e){let n,o;return n=new dt({props:{url:e[7]}}),n.$on("login",e[16]),{c(){var t;(t=n.$$.fragment)&&t.c()},m(t,e){ot(n,t,e),o=!0},p:t,i(t){o||(V(n.$$.fragment,t),o=!0)},o(t){Z(n.$$.fragment,t),o=!1},d(t){rt(n,t)}}}function vt(t){let e,n,o,i,a,s,u,l,c,d,f,b=1===t[1].length&&yt(t);return{c(){e=m("div"),n=m("button"),n.textContent="🗑",o=v(),b&&b.c(),i=v(),a=m("button"),a.textContent="✅ Paid",s=v(),u=m("button"),u.textContent="❌ Not Paid",_(n,"class","svelte-w46gzl"),_(a,"class","svelte-w46gzl"),_(u,"class","svelte-w46gzl"),C(e,"margin-bottom","0.8rem")},m(r,l){h(r,e,l),p(e,n),p(e,o),b&&b.m(e,null),p(e,i),p(e,a),p(e,s),p(e,u),c=!0,d||(f=[y(n,"click",t[11]),y(a,"click",t[20]),y(u,"click",t[21])],d=!0)},p(t,n){1===t[1].length?b?b.p(t,n):(b=yt(t),b.c(),b.m(e,i)):b&&(b.d(1),b=null)},i(t){c||(J(()=>{l||(l=et(e,pt,{},!0)),l.run(1)}),c=!0)},o(t){l||(l=et(e,pt,{},!1)),l.run(0),c=!1},d(t){t&&g(e),b&&b.d(),t&&l&&l.end(),d=!1,r(f)}}}function yt(e){let n,o,r;return{c(){n=m("button"),n.textContent="✏ Edit",_(n,"class","svelte-w46gzl")},m(t,i){h(t,n,i),o||(r=y(n,"click",e[19]),o=!0)},p:t,d(t){t&&g(n),o=!1,r()}}}function $t(t){let e,n,o,r,i,a,s,u,l,c,d,f,$,x,k,S,E,O,T,z,F,j,q,M,D,N,P=(t[1]===[]?t[6]:t[13]())+"",R=Object.keys(t[0]).sort(),A=[];for(let e=0;e<R.length;e+=1)A[e]=xt(gt(t,R,e));return{c(){e=m("div"),n=m("table"),o=m("thead"),r=m("th"),i=m("input"),s=v(),u=m("th"),u.textContent="Date",l=v(),c=m("th"),c.textContent="Start",d=v(),f=m("th"),f.textContent="End",$=v(),x=m("th"),x.textContent="Duration",k=v(),S=m("th"),S.textContent="Wage",E=v(),O=m("tbody");for(let t=0;t<A.length;t+=1)A[t].c();T=v(),z=m("tfoot"),F=m("tr"),j=m("td"),q=b("Total : £ "),M=b(P),_(i,"id","all"),_(i,"type","checkbox"),i.checked=a=t[1].length===Object.keys(t[0]).length,C(r,"text-align","center"),_(j,"colspan","6"),C(n,"white-space","nowrap"),C(e,"overflow","auto"),C(e,"word-break","none")},m(a,g){h(a,e,g),p(e,n),p(n,o),p(o,r),p(r,i),p(o,s),p(o,u),p(o,l),p(o,c),p(o,d),p(o,f),p(o,$),p(o,x),p(o,k),p(o,S),p(n,E),p(n,O);for(let t=0;t<A.length;t+=1)A[t].m(O,null);p(n,T),p(n,z),p(z,F),p(F,j),p(j,q),p(j,M),D||(N=y(i,"change",t[8]),D=!0)},p(t,e){if(3&e[0]&&a!==(a=t[1].length===Object.keys(t[0]).length)&&(i.checked=a),1035&e[0]){let n;for(R=Object.keys(t[0]).sort(),n=0;n<R.length;n+=1){const o=gt(t,R,n);A[n]?A[n].p(o,e):(A[n]=xt(o),A[n].c(),A[n].m(O,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=R.length}66&e[0]&&P!==(P=(t[1]===[]?t[6]:t[13]())+"")&&w(M,P)},d(t){t&&g(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(A,t),D=!1,N()}}}function _t(e){let n;return{c(){n=m("pre"),n.textContent="No shifts yet",C(n,"text-align","center"),C(n,"padding","1rem")},m(t,e){h(t,n,e)},p:t,d(t){t&&g(n)}}}function xt(t){let e,n,o,r,i,a,u,l,c,d,f,$,x,k,S,E,O,T,z,F,j,q,M,D,N,P,R=t[10](t[33])+"",A=t[0][t[33]].start+"",L=t[0][t[33]].end+"",J=t[0][t[33]].duration+"",W=(t[3]*t[0][t[33]].duration).toFixed(2)+"";return{c(){e=m("tr"),n=m("td"),o=m("input"),a=v(),u=m("td"),l=b(R),c=v(),d=m("td"),f=b(A),$=v(),x=m("td"),k=b(L),S=v(),E=m("td"),O=b(J),T=b(" hrs"),z=v(),F=m("td"),j=b("£ "),q=b(W),M=v(),_(o,"type","checkbox"),o.__value=r=t[33],o.value=o.__value,o.checked=i=t[1].includes(t[33]),_(o,"class","svelte-w46gzl"),t[23][0].push(o),C(n,"text-align","center"),_(n,"class","svelte-w46gzl"),_(e,"class",D=s(t[0][t[33]].status)+" svelte-w46gzl")},m(r,i){h(r,e,i),p(e,n),p(n,o),o.checked=~t[1].indexOf(o.__value),p(e,a),p(e,u),p(u,l),p(e,c),p(e,d),p(d,f),p(e,$),p(e,x),p(x,k),p(e,S),p(e,E),p(E,O),p(E,T),p(e,z),p(e,F),p(F,j),p(F,q),p(e,M),N||(P=y(o,"change",t[22]),N=!0)},p(t,n){1&n[0]&&r!==(r=t[33])&&(o.__value=r,o.value=o.__value),3&n[0]&&i!==(i=t[1].includes(t[33]))&&(o.checked=i),2&n[0]&&(o.checked=~t[1].indexOf(o.__value)),1&n[0]&&R!==(R=t[10](t[33])+"")&&w(l,R),1&n[0]&&A!==(A=t[0][t[33]].start+"")&&w(f,A),1&n[0]&&L!==(L=t[0][t[33]].end+"")&&w(k,L),1&n[0]&&J!==(J=t[0][t[33]].duration+"")&&w(O,J),9&n[0]&&W!==(W=(t[3]*t[0][t[33]].duration).toFixed(2)+"")&&w(q,W),1&n[0]&&D!==(D=s(t[0][t[33]].status)+" svelte-w46gzl")&&_(e,"class",D)},d(n){n&&g(e),t[23][0].splice(t[23][0].indexOf(o),1),N=!1,P()}}}function wt(t){let e,n,o,i,a,s,u,l,c,d,f,b,x,w,E,O,T,z,F,j,q,M,D,N,P,R,A,L,W,H,B,U,X,Y,I,G,K,Q;return{c(){e=m("div"),n=m("h4"),n.textContent="📅 Record a New Shift",o=m("hr"),i=v(),a=m("form"),s=m("fieldset"),u=m("label"),u.textContent="Date  ",l=v(),c=m("input"),d=m("br"),f=m("hr"),b=v(),x=m("p"),x.textContent="Please use 24 hour time format",w=v(),E=m("label"),E.textContent="Start Time ",O=v(),T=m("input"),z=m("br"),F=v(),j=m("label"),j.textContent="End Time   ",q=v(),M=m("input"),D=m("br"),N=m("hr"),P=v(),R=m("label"),R.textContent="Wage",A=v(),L=m("select"),W=m("option"),W.textContent="❌ Not Paid",H=m("option"),H.textContent="✅ Paid",B=v(),U=m("button"),U.textContent="Record",X=v(),Y=m("button"),Y.textContent="Reset",_(u,"for","date"),_(c,"id","date"),_(c,"type","date"),c.required=!0,C(x,"font-size","small"),C(x,"color","gray"),_(E,"for","start"),_(T,"id","start"),_(T,"type","time"),T.required=!0,_(j,"for","end"),_(M,"id","end"),_(M,"type","time"),M.required=!0,_(R,"for","status"),W.__value="not-paid",W.value=W.__value,H.__value="paid",H.value=H.__value,_(L,"id","status"),void 0===t[2].status&&J(()=>t[28].call(L)),_(U,"type","submit"),_(U,"id","record"),_(U,"class","svelte-w46gzl"),_(Y,"type","reset"),_(Y,"class","svelte-w46gzl")},m(r,g){h(r,e,g),p(e,n),p(e,o),p(e,i),p(e,a),p(a,s),p(s,u),p(s,l),p(s,c),k(c,t[2].date),p(s,d),p(s,f),p(s,b),p(s,x),p(s,w),p(s,E),p(s,O),p(s,T),k(T,t[2].start),p(s,z),p(s,F),p(s,j),p(s,q),p(s,M),k(M,t[2].end),p(s,D),p(s,N),p(s,P),p(s,R),p(s,A),p(s,L),p(L,W),p(L,H),S(L,t[2].status),p(a,B),p(a,U),p(a,X),p(a,Y),G=!0,K||(Q=[y(c,"input",t[25]),y(T,"input",t[26]),y(M,"input",t[27]),y(L,"change",t[28]),y(a,"submit",$(t[9]))],K=!0)},p(t,e){4&e[0]&&k(c,t[2].date),4&e[0]&&k(T,t[2].start),4&e[0]&&k(M,t[2].end),4&e[0]&&S(L,t[2].status)},i(t){G||(J(()=>{I||(I=et(e,pt,{},!0)),I.run(1)}),G=!0)},o(t){I||(I=et(e,pt,{},!1)),I.run(0),G=!1},d(t){t&&g(e),t&&I&&I.end(),K=!1,r(Q)}}}function kt(t){let e,n,o,r,i,a,s,u,l,c,d=void 0===t[5]?"Login":"Shift Manager";ht.title=e=void 0===t[5]?"Login":"Shift Manager";const f=[bt,mt],y=[];function $(t,e){return void 0===t[5]?0:1}return s=$(t),u=y[s]=f[s](t),{c(){n=v(),o=m("header"),r=m("h3"),i=b(d),a=v(),u.c(),l=b("")},m(t,e){h(t,n,e),h(t,o,e),p(o,r),p(r,i),h(t,a,e),y[s].m(t,e),h(t,l,e),c=!0},p(t,n){(!c||32&n[0])&&e!==(e=void 0===t[5]?"Login":"Shift Manager")&&(ht.title=e),(!c||32&n[0])&&d!==(d=void 0===t[5]?"Login":"Shift Manager")&&w(i,d);let o=s;s=$(t),s===o?y[s].p(t,n):(K(),Z(y[o],1,1,()=>{y[o]=null}),Q(),u=y[s],u||(u=y[s]=f[s](t),u.c()),V(u,1),u.m(l.parentNode,l))},i(t){c||(V(u),c=!0)},o(t){Z(u),c=!1},d(t){t&&g(n),t&&g(o),t&&g(a),y[s].d(t),t&&g(l)}}}function Ct(t,e){t=t.split(":"),e=e.split(":");var n=new Date(0,0,0,t[0],t[1],0),o=(new Date(0,0,0,e[0],e[1],0).getTime()-n.getTime())/1e3/60/60;return o<0&&(o+=24),o.toFixed(2)}function St(t,e,n){const o=document.location.origin,r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["January","February","March","April","May","June","July","August","September","October","November","December"];let a,s={},u=new Array,l={},c=6.45,d=!1,f=h();function p(t){n(2,l.date=t,l),n(2,l.start=s[t].start,l),n(2,l.end=s[t].end,l),n(2,l.status=s[t].status,l),n(4,d=!0),n(1,u=[])}function h(){let t=0;return(0===u.length?Object.keys(s):u).forEach(e=>{t+=parseFloat(c*s[e].duration)}),t.toFixed(2)}function g(){let t=new XMLHttpRequest;t.open("POST",o+"/save",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({user:a,data:JSON.stringify(s)})),t.onreadystatechange=()=>{}}function m(t){u.forEach(e=>{n(0,s[e].status=t,s)}),g(),n(1,u=[])}const b=[[]];return t.$$.update=()=>{32&t.$$.dirty[0]&&void 0!==a&&async function(){const t=await fetch(`${o}/shifts?user=${a}`),e=await fetch(`${o}/getWage?user=${a}`);n(0,s=await t.json()),n(3,c=parseFloat(await e.json()))}()},[s,u,l,c,d,a,f,o,function(){document.getElementById("all").checked?n(1,u=Object.keys(s)):n(1,u=[])},function(){n(4,d=!d),n(0,s[l.date]={start:l.start,end:l.end,duration:Ct(l.start,l.end),status:l.status},s),n(2,l={}),n(6,f=h()),g()},function(t){let e=new Date(t);return`${r[e.getDay()]}, ${e.getDate()} ${i[e.getMonth()]}`},function(){let t=s;u.forEach(e=>delete t[e]),n(1,u=[]),n(0,s=t),g()},p,h,m,function(){let t=new XMLHttpRequest;t.open("POST",o+"/setWage",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({user:a,wage:c})),t.onreadystatechange=()=>{},n(6,f=h())},t=>{n(5,a=t.detail.username)},function(){c=x(this.value),n(3,c)},()=>{n(5,a=void 0)},()=>{p(u[0])},()=>{m("paid")},()=>{m("not-paid")},function(){u=function(t,e,n){const o=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&o.add(t[e].__value);return n||o.delete(e),Array.from(o)}(b[0],this.__value,this.checked),n(1,u)},b,()=>{n(4,d=!d)},function(){l.date=this.value,n(2,l)},function(){l.start=this.value,n(2,l)},function(){l.end=this.value,n(2,l)},function(){l.status=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(2,l)}]}return new class extends st{constructor(t){super(),at(this,t,St,kt,a,{},[-1,-1])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
